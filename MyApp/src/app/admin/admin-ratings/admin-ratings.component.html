<div class="pt-16 p-4">
  <h2 class="text-2xl font-bold mb-4">Manage Tristan’s Ratings</h2>

  <!-- Add / Update -->
  <div class="flex space-x-2 mb-4">
    <input type="number"
           [(ngModel)]="newMovieId"
           name="newMovieId"
           placeholder="Movie ID"
           class="border p-1 rounded w-24" />
    <input type="number"
           [(ngModel)]="newScore"
           name="newScore"
           min="1" max="10"
           class="border p-1 rounded w-24" />
    <button (click)="add()"
            class="bg-green-500 text-white px-4 py-1 rounded">
      Add/Update
    </button>
  </div>

  <!-- Table -->
  <table class="w-full table-auto mb-4">
    <thead>
      <tr class="bg-gray-200">
        <th class="px-2 py-1">ID</th>
        <th class="px-2 py-1">Title</th>
        <th class="px-2 py-1">Score</th>
        <th class="px-2 py-1">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of ratings">
        <td class="border px-2 py-1">{{ r.movieId }}</td>
        <td class="border px-2 py-1">{{ r.movieTitle }}</td>
        <td class="border px-2 py-1">{{ r.score }}</td>
        <td class="border px-2 py-1 space-x-2">
          <button (click)="update(r)" class="text-blue-500">Edit</button>
          <button (click)="remove(r)" class="text-red-500">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="loading" class="text-gray-600">Loading…</p>
  <p *ngIf="error" class="text-red-600">{{ error }}</p>
</div>
